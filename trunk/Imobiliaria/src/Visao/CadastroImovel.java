/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package Visao;
//aaa
import Componentes.Componentes;
import Controlador.CarregaEndereco;
import Controlador.ControladorPessoa;
import Controlador.Mensagens;
import Modelo.*;
import Util.VerificaNumeros;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ItemEvent;
import java.text.SimpleDateFormat;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JButton;

/**
 *
 * @author Bruno
 */
public class CadastroImovel extends javax.swing.JDialog {

    SimpleDateFormat formataData = new SimpleDateFormat("dd/MM/yyyy");
    Mensagens m;
    Componentes c = new Componentes();
    JButton botaoGravar;
    JButton botaoExcluir;
    JButton botaoBuscar;
    CarregaEndereco carregaEndereco = new CarregaEndereco();
    ControladorPessoa controladorPessoa;
    Pessoa p = new Pessoa();
    Telefone t = new Telefone();

    /**
     * Creates new form CadastroPessoal
     */
    public CadastroImovel(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        botaoGravar = c.criaBotaoGravar();
        botaoExcluir = c.criaBotaoExcluir();
        botaoBuscar = c.criaBotaoBuscar();


        botaoGravar.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botaoGravarActionPerformed(evt);
            }
        });

        botaoExcluir.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botaoExcluirActionPerformed(evt);
            }
        });

        botaoBuscar.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botaoBuscarActionPerformed(evt);
            }
        });


        jtfBuscar.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent ae) {
                acaoBuscar();
            }
        });

        jpBotoes.add(botaoGravar);
        jpBotoes.add(botaoExcluir);
        jpBotoes.add(botaoBuscar);

        jcbPais.setModel(carregaEndereco.carregaPais());
        jcbPais.setSelectedIndex(0);

        jcbEstado.setModel(carregaEndereco.carregaEstado((Pais) jcbPais.getSelectedItem()));
        jcbEstado.setSelectedIndex(0);

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btgBuscaPessoa = new javax.swing.ButtonGroup();
        jpAbas = new javax.swing.JPanel();
        jtpAbas = new javax.swing.JTabbedPane();
        jpPessoal = new javax.swing.JPanel();
        jspPainelRolagem = new javax.swing.JScrollPane();
        jpAgrupadorDImvl = new javax.swing.JPanel();
        jpCadastro = new javax.swing.JPanel();
        jlBuscar = new javax.swing.JLabel();
        jlCadastro = new javax.swing.JLabel();
        jlCadastroNmr = new javax.swing.JLabel();
        jtfBuscar = new javax.swing.JTextField();
        jpEnderecoImovel = new javax.swing.JPanel();
        jpLabelsE = new javax.swing.JPanel();
        jlPais = new javax.swing.JLabel();
        jlEstado = new javax.swing.JLabel();
        jlCidade = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jlLogradouro = new javax.swing.JLabel();
        jlNumero = new javax.swing.JLabel();
        jlCEP_ZIP = new javax.swing.JLabel();
        jlComplemento = new javax.swing.JLabel();
        jpTextFieldsE = new javax.swing.JPanel();
        jcbPais = new javax.swing.JComboBox();
        jcbEstado = new javax.swing.JComboBox();
        jcbCidade = new javax.swing.JComboBox();
        jcbBairro = new javax.swing.JComboBox();
        jcbLogradouro = new javax.swing.JComboBox();
        jtfNumero = new javax.swing.JTextField();
        jcbCEP_ZIP = new javax.swing.JComboBox();
        jtfComplemento = new javax.swing.JTextField();
        jpDadosFuncionario = new javax.swing.JPanel();
        jpDadosProprietario = new javax.swing.JPanel();
        jpLabelsDP = new javax.swing.JPanel();
        jlNome = new javax.swing.JLabel();
        jlRG = new javax.swing.JLabel();
        jlCPF_CNPJ = new javax.swing.JLabel();
        jpTextFieldsDP = new javax.swing.JPanel();
        jtfNome = new javax.swing.JTextField();
        jtfRG = new javax.swing.JTextField();
        jtfCPF_CNPJ = new javax.swing.JTextField();
        jpBuscarPessoa = new javax.swing.JPanel();
        jrbNome = new javax.swing.JRadioButton();
        jrbCPF_CNPJ = new javax.swing.JRadioButton();
        jrbRG = new javax.swing.JRadioButton();
        jbBuscar = new javax.swing.JButton();
        jpBotoes = new javax.swing.JPanel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jtpAbas.setPreferredSize(new java.awt.Dimension(400, 600));

        jspPainelRolagem.setBorder(null);

        jlBuscar.setText("Buscar:");

        jlCadastro.setText("Cadastro:");

        javax.swing.GroupLayout jpCadastroLayout = new javax.swing.GroupLayout(jpCadastro);
        jpCadastro.setLayout(jpCadastroLayout);
        jpCadastroLayout.setHorizontalGroup(
            jpCadastroLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jpCadastroLayout.createSequentialGroup()
                .addGroup(jpCadastroLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jpCadastroLayout.createSequentialGroup()
                        .addGap(64, 64, 64)
                        .addComponent(jlCadastroNmr))
                    .addComponent(jlCadastro))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 494, Short.MAX_VALUE)
                .addComponent(jlBuscar)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jtfBuscar, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jpCadastroLayout.setVerticalGroup(
            jpCadastroLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpCadastroLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jpCadastroLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jlBuscar)
                    .addComponent(jlCadastro)
                    .addComponent(jlCadastroNmr)
                    .addComponent(jtfBuscar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jpEnderecoImovel.setBorder(javax.swing.BorderFactory.createTitledBorder("Endereço do Imóvel"));
        jpEnderecoImovel.setToolTipText("O endereço do imóvel é preenchido automaticamente com os dados do proprietário do imóvel.");

        jpLabelsE.setLayout(new java.awt.GridLayout(8, 1, 0, 5));

        jlPais.setText("País:");
        jpLabelsE.add(jlPais);

        jlEstado.setText("Estado:");
        jpLabelsE.add(jlEstado);

        jlCidade.setText("Cidade:");
        jpLabelsE.add(jlCidade);

        jLabel1.setText("Bairro:");
        jpLabelsE.add(jLabel1);

        jlLogradouro.setText("Logradouro:");
        jpLabelsE.add(jlLogradouro);

        jlNumero.setText("Número:");
        jpLabelsE.add(jlNumero);

        jlCEP_ZIP.setText("CEP/ZIP:");
        jpLabelsE.add(jlCEP_ZIP);

        jlComplemento.setText("Complemento:");
        jpLabelsE.add(jlComplemento);

        jpTextFieldsE.setLayout(new java.awt.GridLayout(8, 1, 0, 5));

        jcbPais.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jcbPaisItemStateChanged(evt);
            }
        });
        jpTextFieldsE.add(jcbPais);

        jcbEstado.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jcbEstadoItemStateChanged(evt);
            }
        });
        jpTextFieldsE.add(jcbEstado);

        jcbCidade.setEnabled(false);
        jcbCidade.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jcbCidadeItemStateChanged(evt);
            }
        });
        jpTextFieldsE.add(jcbCidade);

        jcbBairro.setEnabled(false);
        jcbBairro.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jcbBairroItemStateChanged(evt);
            }
        });
        jpTextFieldsE.add(jcbBairro);

        jcbLogradouro.setEnabled(false);
        jcbLogradouro.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jcbLogradouroItemStateChanged(evt);
            }
        });
        jpTextFieldsE.add(jcbLogradouro);
        jpTextFieldsE.add(jtfNumero);

        jcbCEP_ZIP.setEnabled(false);
        jcbCEP_ZIP.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jcbCEP_ZIPItemStateChanged(evt);
            }
        });
        jpTextFieldsE.add(jcbCEP_ZIP);
        jpTextFieldsE.add(jtfComplemento);

        javax.swing.GroupLayout jpEnderecoImovelLayout = new javax.swing.GroupLayout(jpEnderecoImovel);
        jpEnderecoImovel.setLayout(jpEnderecoImovelLayout);
        jpEnderecoImovelLayout.setHorizontalGroup(
            jpEnderecoImovelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpEnderecoImovelLayout.createSequentialGroup()
                .addComponent(jpLabelsE, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jpTextFieldsE, javax.swing.GroupLayout.PREFERRED_SIZE, 576, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jpEnderecoImovelLayout.setVerticalGroup(
            jpEnderecoImovelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jpLabelsE, javax.swing.GroupLayout.DEFAULT_SIZE, 170, Short.MAX_VALUE)
            .addComponent(jpTextFieldsE, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jpAgrupadorDImvlLayout = new javax.swing.GroupLayout(jpAgrupadorDImvl);
        jpAgrupadorDImvl.setLayout(jpAgrupadorDImvlLayout);
        jpAgrupadorDImvlLayout.setHorizontalGroup(
            jpAgrupadorDImvlLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpAgrupadorDImvlLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jpAgrupadorDImvlLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jpCadastro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jpEnderecoImovel, javax.swing.GroupLayout.PREFERRED_SIZE, 664, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(110, Short.MAX_VALUE))
        );
        jpAgrupadorDImvlLayout.setVerticalGroup(
            jpAgrupadorDImvlLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpAgrupadorDImvlLayout.createSequentialGroup()
                .addComponent(jpCadastro, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jpEnderecoImovel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(462, Short.MAX_VALUE))
        );

        jspPainelRolagem.setViewportView(jpAgrupadorDImvl);

        javax.swing.GroupLayout jpPessoalLayout = new javax.swing.GroupLayout(jpPessoal);
        jpPessoal.setLayout(jpPessoalLayout);
        jpPessoalLayout.setHorizontalGroup(
            jpPessoalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpPessoalLayout.createSequentialGroup()
                .addComponent(jspPainelRolagem, javax.swing.GroupLayout.PREFERRED_SIZE, 723, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 46, Short.MAX_VALUE))
        );
        jpPessoalLayout.setVerticalGroup(
            jpPessoalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpPessoalLayout.createSequentialGroup()
                .addComponent(jspPainelRolagem, javax.swing.GroupLayout.PREFERRED_SIZE, 268, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 32, Short.MAX_VALUE))
        );

        jtpAbas.addTab("Dados do Imóvel", jpPessoal);

        jpDadosProprietario.setBorder(javax.swing.BorderFactory.createTitledBorder("Dados do Proprietário"));

        jpLabelsDP.setLayout(new java.awt.GridLayout(3, 1, 0, 5));

        jlNome.setText("Nome:");
        jpLabelsDP.add(jlNome);

        jlRG.setText("RG:");
        jpLabelsDP.add(jlRG);

        jlCPF_CNPJ.setText("CPF/CNPJ:");
        jpLabelsDP.add(jlCPF_CNPJ);

        jpTextFieldsDP.setLayout(new java.awt.GridLayout(3, 1, 0, 8));
        jpTextFieldsDP.add(jtfNome);
        jpTextFieldsDP.add(jtfRG);
        jpTextFieldsDP.add(jtfCPF_CNPJ);

        jpBuscarPessoa.setBorder(javax.swing.BorderFactory.createTitledBorder("Buscar Proprietário"));

        btgBuscaPessoa.add(jrbNome);
        jrbNome.setText("Nome");

        btgBuscaPessoa.add(jrbCPF_CNPJ);
        jrbCPF_CNPJ.setText("CFP/CNPJ");

        btgBuscaPessoa.add(jrbRG);
        jrbRG.setText("RG");

        jbBuscar.setText("Buscar");
        jbBuscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jbBuscarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jpBuscarPessoaLayout = new javax.swing.GroupLayout(jpBuscarPessoa);
        jpBuscarPessoa.setLayout(jpBuscarPessoaLayout);
        jpBuscarPessoaLayout.setHorizontalGroup(
            jpBuscarPessoaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpBuscarPessoaLayout.createSequentialGroup()
                .addGroup(jpBuscarPessoaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jpBuscarPessoaLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jrbNome)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jrbCPF_CNPJ)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jrbRG))
                    .addComponent(jbBuscar))
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jpBuscarPessoaLayout.setVerticalGroup(
            jpBuscarPessoaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpBuscarPessoaLayout.createSequentialGroup()
                .addGroup(jpBuscarPessoaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jrbNome)
                    .addComponent(jrbCPF_CNPJ)
                    .addComponent(jrbRG))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jbBuscar))
        );

        javax.swing.GroupLayout jpDadosProprietarioLayout = new javax.swing.GroupLayout(jpDadosProprietario);
        jpDadosProprietario.setLayout(jpDadosProprietarioLayout);
        jpDadosProprietarioLayout.setHorizontalGroup(
            jpDadosProprietarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpDadosProprietarioLayout.createSequentialGroup()
                .addComponent(jpLabelsDP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jpTextFieldsDP, javax.swing.GroupLayout.PREFERRED_SIZE, 401, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jpBuscarPessoa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(53, Short.MAX_VALUE))
        );
        jpDadosProprietarioLayout.setVerticalGroup(
            jpDadosProprietarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jpTextFieldsDP, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
            .addComponent(jpLabelsDP, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jpBuscarPessoa, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jpDadosFuncionarioLayout = new javax.swing.GroupLayout(jpDadosFuncionario);
        jpDadosFuncionario.setLayout(jpDadosFuncionarioLayout);
        jpDadosFuncionarioLayout.setHorizontalGroup(
            jpDadosFuncionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpDadosFuncionarioLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jpDadosProprietario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 42, Short.MAX_VALUE))
        );
        jpDadosFuncionarioLayout.setVerticalGroup(
            jpDadosFuncionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jpDadosFuncionarioLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jpDadosProprietario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(631, 631, 631))
        );

        jtpAbas.addTab("Propridades do Proprietário", jpDadosFuncionario);

        javax.swing.GroupLayout jpBotoesLayout = new javax.swing.GroupLayout(jpBotoes);
        jpBotoes.setLayout(jpBotoesLayout);
        jpBotoesLayout.setHorizontalGroup(
            jpBotoesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 352, Short.MAX_VALUE)
        );
        jpBotoesLayout.setVerticalGroup(
            jpBotoesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 25, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jpAbasLayout = new javax.swing.GroupLayout(jpAbas);
        jpAbas.setLayout(jpAbasLayout);
        jpAbasLayout.setHorizontalGroup(
            jpAbasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpAbasLayout.createSequentialGroup()
                .addGroup(jpAbasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jpBotoes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jtpAbas, javax.swing.GroupLayout.PREFERRED_SIZE, 774, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(0, 56, Short.MAX_VALUE))
        );
        jpAbasLayout.setVerticalGroup(
            jpAbasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jpAbasLayout.createSequentialGroup()
                .addComponent(jtpAbas, javax.swing.GroupLayout.PREFERRED_SIZE, 328, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jpBotoes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(16, Short.MAX_VALUE))
        );

        jtpAbas.getAccessibleContext().setAccessibleName("Dados Principais");
        jtpAbas.getAccessibleContext().setAccessibleDescription("Dados Principais");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jpAbas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jpAbas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 21, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jcbPaisItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jcbPaisItemStateChanged

    }//GEN-LAST:event_jcbPaisItemStateChanged

    private void jcbCidadeItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jcbCidadeItemStateChanged
        if (evt.getStateChange() == ItemEvent.DESELECTED) {
            jcbBairro.setEnabled(true);
            jcbBairro.setModel(carregaEndereco.carregaBairro((Cidade) jcbCidade.getSelectedItem()));
        }
    }//GEN-LAST:event_jcbCidadeItemStateChanged

    private void jcbLogradouroItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jcbLogradouroItemStateChanged
        if (evt.getStateChange() == ItemEvent.DESELECTED) {
            jcbCEP_ZIP.setEnabled(true);
            jcbCEP_ZIP.setModel(carregaEndereco.carregaCEP_ZIP((Bairro) jcbBairro.getSelectedItem()));
        }
    }//GEN-LAST:event_jcbLogradouroItemStateChanged

    private void jcbCEP_ZIPItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jcbCEP_ZIPItemStateChanged
    }//GEN-LAST:event_jcbCEP_ZIPItemStateChanged

    private void jcbEstadoItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jcbEstadoItemStateChanged
        if (evt.getStateChange() == ItemEvent.DESELECTED) {
            jcbCidade.setEnabled(true);
            jcbCidade.setModel(carregaEndereco.carregaCidade((Estado) jcbEstado.getSelectedItem()));
        }
    }//GEN-LAST:event_jcbEstadoItemStateChanged

    private void jcbBairroItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jcbBairroItemStateChanged
        if (evt.getStateChange() == ItemEvent.DESELECTED) {
            jcbLogradouro.setEnabled(true);
            jcbLogradouro.setModel(carregaEndereco.carregaEndereco((Bairro) jcbBairro.getSelectedItem()));
        }
    }//GEN-LAST:event_jcbBairroItemStateChanged

    private void jbBuscarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbBuscarActionPerformed
        
    }//GEN-LAST:event_jbBuscarActionPerformed

    /**
     * @param args the command line arguments
     */
    private void botaoGravarActionPerformed(java.awt.event.ActionEvent evt) {
        acaoGravar();
    }

    private void botaoExcluirActionPerformed(java.awt.event.ActionEvent evt) {
        if (p.getNome() != null) {
            controladorPessoa = new ControladorPessoa();
            controladorPessoa.removePessoa(p);
        } else {
            m = new Mensagens();
            m.jopAlerta("É necessário buscar um cadastro antes de excluir.");
        }
    }

    private void botaoBuscarActionPerformed(java.awt.event.ActionEvent evt) {
        acaoBuscar();
    }

    public static void main(String args[]) {
        /*
         * Set the Nimbus look and feel
         */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /*
         * If Nimbus (introduced in Java SE 6) is not available, stay with the
         * default look and feel. For details see
         * http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Windows".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(CadastroImovel.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(CadastroImovel.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(CadastroImovel.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(CadastroImovel.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /*
         * Create and display the dialog
         */
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                CadastroImovel dialog = new CadastroImovel(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {

                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup btgBuscaPessoa;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JButton jbBuscar;
    private javax.swing.JComboBox jcbBairro;
    private javax.swing.JComboBox jcbCEP_ZIP;
    private javax.swing.JComboBox jcbCidade;
    private javax.swing.JComboBox jcbEstado;
    private javax.swing.JComboBox jcbLogradouro;
    private javax.swing.JComboBox jcbPais;
    private javax.swing.JLabel jlBuscar;
    private javax.swing.JLabel jlCEP_ZIP;
    private javax.swing.JLabel jlCPF_CNPJ;
    private javax.swing.JLabel jlCadastro;
    private javax.swing.JLabel jlCadastroNmr;
    private javax.swing.JLabel jlCidade;
    private javax.swing.JLabel jlComplemento;
    private javax.swing.JLabel jlEstado;
    private javax.swing.JLabel jlLogradouro;
    private javax.swing.JLabel jlNome;
    private javax.swing.JLabel jlNumero;
    private javax.swing.JLabel jlPais;
    private javax.swing.JLabel jlRG;
    private javax.swing.JPanel jpAbas;
    private javax.swing.JPanel jpAgrupadorDImvl;
    private javax.swing.JPanel jpBotoes;
    private javax.swing.JPanel jpBuscarPessoa;
    private javax.swing.JPanel jpCadastro;
    private javax.swing.JPanel jpDadosFuncionario;
    private javax.swing.JPanel jpDadosProprietario;
    private javax.swing.JPanel jpEnderecoImovel;
    private javax.swing.JPanel jpLabelsDP;
    private javax.swing.JPanel jpLabelsE;
    private javax.swing.JPanel jpPessoal;
    private javax.swing.JPanel jpTextFieldsDP;
    private javax.swing.JPanel jpTextFieldsE;
    private javax.swing.JRadioButton jrbCPF_CNPJ;
    private javax.swing.JRadioButton jrbNome;
    private javax.swing.JRadioButton jrbRG;
    private javax.swing.JScrollPane jspPainelRolagem;
    private javax.swing.JTextField jtfBuscar;
    private javax.swing.JTextField jtfCPF_CNPJ;
    private javax.swing.JTextField jtfComplemento;
    private javax.swing.JTextField jtfNome;
    private javax.swing.JTextField jtfNumero;
    private javax.swing.JTextField jtfRG;
    private javax.swing.JTabbedPane jtpAbas;
    // End of variables declaration//GEN-END:variables

    public boolean validaCampos() {

        if (jtfNome.getText().equals("")) {
            m = new Mensagens();
            m.jopAlerta("Por favor preencha o campo 'Nome'.");
            return false;

        } else {


            this.p.setNome(jtfNome.getText());

            if (jtfRG.getText().equals("")) {
                m = new Mensagens();
                m.jopAlerta("Por favor preencha o campo 'RG'.");
                return false;

            } else {
                if (VerificaNumeros.verificaNumeros(jtfRG.getText())) {
                    this.p.setRG(Integer.parseInt(jtfRG.getText()));
                } else {
                    Mensagens m = new Mensagens();
                    m.jopAlerta("Informe apenas números no campo 'RG'.");
                }
                if (jtfCPF_CNPJ.getText().equals("")) {
                    m = new Mensagens();
                    m.jopAlerta("Por favor preencha o campo 'CPF/CNPJ'.");
                    return false;

                } else {
                    if (VerificaNumeros.verificaNumeros(jtfCPF_CNPJ.getText())) {
                        this.p.setCPF_CNPJ(Integer.parseInt(jtfCPF_CNPJ.getText()));
                    } else {
                        Mensagens m = new Mensagens();
                        m.jopAlerta("Informe apenas números no campo 'CPF/CNPJ'.");
                    }
                    if (!jcbCidade.isEnabled()) {
                        return false;

                    } else if (!jcbBairro.isEnabled()) {
                        return false;

                    } else {
                        Pais pais = new Pais();
                        Estado estado = new Estado();
                        Cidade cidade = new Cidade();
                        Bairro bairro = new Bairro();

                        pais = (Pais) jcbPais.getSelectedItem();
                        estado = (Estado) jcbEstado.getSelectedItem();
                        cidade = (Cidade) jcbCidade.getSelectedItem();
                        bairro = (Bairro) jcbBairro.getSelectedItem();

                        if (!jcbLogradouro.isEnabled()) {
                            return false;

                        } else {
                            Endereco endereco = new Endereco();
                            endereco = (Endereco) jcbLogradouro.getSelectedItem();

                            if (jtfNumero.getText().equals("")) {
                                m = new Mensagens();
                                m.jopAlerta("Por favor preencha o campo 'Número'.");
                                return false;

                            } else {
                                if (VerificaNumeros.verificaNumeros(jtfNumero.getText())) {
                                    this.p.setNumero(Integer.parseInt(jtfNumero.getText()));
                                } else {
                                    Mensagens m = new Mensagens();
                                    m.jopAlerta("Informe apenas números no campo 'Número'.");
                                }

                                if (!jcbCEP_ZIP.isEnabled()) {
                                    return false;

                                } else {

                                    CEP_ZIP cep_zip = new CEP_ZIP();

                                    cep_zip = (CEP_ZIP) jcbCEP_ZIP.getSelectedItem();

                                    if (jtfComplemento.getText().equals("")) {
                                        m = new Mensagens();
                                        m.jopAlerta("Por favor preencha o campo 'Complemento'.");
                                        return false;
                                    } else {
                                        this.p.setComplemento(jtfComplemento.getText());
                                        this.p.setIdPais(pais.getCodigo());
                                        this.p.setIdEstado(estado.getId());
                                        this.p.setIdCidade(cidade.getCodigo());
                                        this.p.setIdBairro(bairro.getIdBairro());
                                        this.p.setIdLogradouro(endereco.getIdBairro());
                                        this.p.setCEP_ZIP(cep_zip.getCep_zip());

                                    }
                                    Mensagens m = new Mensagens();
                                    m.jopAlerta("Informe apenas números no campo 'Telefone'.");
                                }

                                return true;
                            }
                        }
                    }
                }
            }
        }
    }

    public void acaoBuscar() {
        if (!jtfBuscar.getText().equals("")) {
            controladorPessoa = new ControladorPessoa();
            p.setIdPessoa(Integer.parseInt(jtfBuscar.getText()));
            p = controladorPessoa.buscaPessoa(p);

            jtfNome.setText(p.getNome());
            jtfCPF_CNPJ.setText(p.getCPF_CNPJ() + "");
            jtfRG.setText(p.getRG() + "");
            jtfNumero.setText(p.getNumero() + "");
            jtfComplemento.setText(p.getComplemento());

            Pais pais = new Pais("", "", p.getIdPais());
            Estado estado = new Estado("", "", 0, p.getIdEstado());
            Cidade cidade = new Cidade("", 0, p.getIdCidade());
            Bairro bairro = new Bairro(p.getIdBairro(), 0, "", "");
            Bairro bairroCEP = new Bairro(p.getIdBairro(), 0, "", "");
            Endereco endereco = new Endereco(0, p.getIdBairro(), "", 0, 0, "");

            jcbPais.removeAll();
            jcbEstado.removeAll();
            jcbCidade.removeAll();
            jcbBairro.removeAll();
            jcbLogradouro.removeAll();
            jcbCEP_ZIP.removeAll();

            jcbPais.setModel(carregaEndereco.carregaPais());
            jcbEstado.setModel(carregaEndereco.carregaEstado((Pais) jcbPais.getSelectedItem()));
            jcbCidade.setModel(carregaEndereco.carregaCidade(estado));
            jcbBairro.setModel(carregaEndereco.carregaBairro(cidade));
            jcbLogradouro.setModel(carregaEndereco.carregaEndereco(bairro));
            jcbCEP_ZIP.setModel(carregaEndereco.carregaCEP_ZIP(bairroCEP));

            pais.setCodigo(p.getIdPais());

            jcbPais.setSelectedItem(pais);
            jcbEstado.setSelectedItem(estado);
            jcbCidade.setSelectedItem(cidade);
            jcbBairro.setSelectedItem(bairro);
            jcbCEP_ZIP.setSelectedItem(bairroCEP);
            jcbLogradouro.setSelectedItem(endereco);

            jcbCidade.setEnabled(true);
            jcbBairro.setEnabled(true);
            jcbLogradouro.setEnabled(true);
            jcbCEP_ZIP.setEnabled(true);

            jcbPais.updateUI();
            jcbEstado.updateUI();
            jcbCidade.updateUI();
            jcbBairro.updateUI();
            jcbLogradouro.updateUI();
            jcbCEP_ZIP.updateUI();

        } else {
            m = new Mensagens();
            m.jopAlerta("É necessário informar o código de um cadastro antes de pesquisar.");
        }
    }

    public void acaoGravar() {
        if (validaCampos()) {
            controladorPessoa = new ControladorPessoa();

            boolean inserePessoa = controladorPessoa.inserePessoa(p, t);

            if (inserePessoa) {
                Mensagens m = new Mensagens();
                m.jopAviso("Cadastro realizado com sucesso!");
            }

            jtfBuscar.setText("");
            jtfNome.setText("");
            jtfRG.setText("");
            jtfCPF_CNPJ.setText("");
            jtfNumero.setText("");
            jtfComplemento.setText("");

            jcbPais.setSelectedIndex(0);
            jcbEstado.setSelectedIndex(0);
            jcbCidade.setSelectedIndex(0);
            jcbBairro.setSelectedIndex(0);
            jcbLogradouro.setSelectedIndex(0);
            jcbCEP_ZIP.setSelectedIndex(0);

            jcbCidade.setEnabled(false);
            jcbBairro.setEnabled(false);
            jcbLogradouro.setEnabled(false);
            jcbCEP_ZIP.setEnabled(false);
        }
    }

    public void acaoAlterar() {
        if (validaCampos()) {
        }

    }

    public DefaultComboBoxModel acaoBuscarPessoa(){
        
        if (jrbNome.isSelected()){
            if ("".equals(jtfNome.getText())){
                m.jopAlerta("Foi selecionada a opção de busca por 'Nome' porém o campo 'Nome' está vazio");
                return null;
            }else{
                p.setNome(jtfNome.getText());
                p = controladorPessoa.buscaPessoa(p);
                return new DefaultComboBoxModel();
            }
        } 
        return new DefaultComboBoxModel();
    }
    
}
